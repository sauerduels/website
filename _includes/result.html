<h3>Info:</h3>
Title: <strong>SD #{{ event.index }}: {{ event.title }}</strong><br />
{% assign day = event.date | date: "%-d"  %}
{% case day %}
  {% when '1' or '21' or '31' %}{% assign ord = "st" %}
  {% when '2' or '22' %}{% assign ord = "nd" %}
  {% when '3' or '23' %}{% assign ord = "rd" %}
  {% else %}{% assign ord = "th" %}
{% endcase %}
Date: <strong>{{ event.date | date: "%B %-d" }}{{ ord }}{{ event.date | date: ", %-I:%M %p (%Z)" }}</strong><br />
{% if event.bracketurl %}
  Bracket: <a href="{{ event.bracketurl }}">{{ event.bracketurl }}</a><br />
{% endif %}
<br />
{% if event.finals %}
  <h3>Finals:</h3>
  {{ event.finals.result }}<br />
  {% for game in event.finals.games %}
    {{ game.title }} (<a href="{{ site.screenbaseurl }}{{ game.slug }}.jpg">screen</a> | <a href="{{ site.demobaseurl }}{{ game.slug }}.dmo">demo</a>)<br />
  {% endfor %}
  <br />
{% endif %}
{% if event.semis %}
  <h3>Semi-finals:</h3>
  {% for semi in event.semis %}
    {{ semi.result }}<br />
    {% for game in semi.games %}
      {{ game.title }} (<a href="{{ site.screenbaseurl }}{{ game.slug }}.jpg">screen</a> | <a href="{{ site.demobaseurl }}{{ game.slug }}.dmo">demo</a>)<br />
    {% endfor %}
    <br />
  {% endfor %}
{% endif %}
{% for group in event.groups %}
  {% assign lineLimit = 4 %}
  {% assign groupLen = group[1] | size %}
  {% if groupLen <= 5 or groupLen == 9 or groupLen == 10 %}
    {% assign lineLimit = 5 %}
  {% elsif groupLen == 6 %}
    {% assign lineLimit = 3 %}
  {% endif %}
  {% assign lineLimit1 = lineLimit | plus: 1 %}
  <h3>Group {{ group[0] | upcase }}:</h3>
  <table style="text-align: center;">
    <thead>
      <tr>
        {% for group in group[1] %}
          {% if forloop.index0 == lineLimit %}
            {% break %}
          {% endif %}
          <th>Round {{ forloop.index }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      <tr>
        {% for round in group[1] %}
          {% assign shouldNotSplit = forloop.index0 | modulo: lineLimit %}
          {% if shouldNotSplit == 0 and forloop.index0 != 0 %}
                </tr>
              </tbody>
            </table>
            <table style="text-align: center;">
              <thead>
                <tr>
                  {% assign offset = forloop.index0 %}
                  {% for group in group[1] | offset: offset %}
                    {% if forloop.index0 == lineLimit %}
                      {% break %}
                    {% endif %}
                    <th>Round {{ forloop.index | plus: offset }}</th>
                  {% endfor %}
                </tr>
              </thead>
              <tbody>
                <tr>
          {% endif %}
          <td>
            {% for game in round %}
              {{ game.result }}<br />
              {% if game.slug %}
                (<a href="{{ site.screenbaseurl }}{{ game.slug }}.jpg">screen</a> | <a href="{{ site.demobaseurl }}{{ game.slug }}.dmo">demo</a>)<br /><br />
              {% else %}
                (forfeit)<br /><br />
              {% endif %}
            {% endfor %}
          </td>
        {% endfor %}
      </tr>
    </tbody>
  </table>
{% endfor %}
